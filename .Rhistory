setwd("D:/STUDY/UCSD/SP24/POLI170A/poli170a_proj")
knitr::opts_chunk$set(echo = TRUE)
setwd("D:/STUDY/UCSD/SP24/POLI170A/poli170a_proj")
merged_df <- read_csv("merged_df.csv")
library(readr)
setwd("D:/STUDY/UCSD/SP24/POLI170A/poli170a_proj")
merged_df <- read_csv("merged_df.csv")
View(merged_df)
View(merged_df)
full_model <- lm(crime_density ~ alcohol_density + density, data=merged_df)
# Print the summary of the model
summary(full_model)
# Assuming merged_df is your data frame
# Create the scatter plot
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density' # Legend title
) +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 10) # Adjust legend title size
)
# Print the summary of the model
summary(full_model)
```
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density' # Legend title
) +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 10) # Adjust legend title size
)
View(p)
View(p)
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density' # Legend title
) +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 10) # Adjust legend title size
)
print(p)
# Save the plot as an image file
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 10) # Adjust legend title size
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 10) # Adjust legend title size
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 10), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
legend.spacing.x = unit(0.5, 'cm'), # Adjust horizontal spacing between legend items
legend.spacing.y = unit(0.5, 'cm') # Adjust vertical spacing between legend items
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 10), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
legend.spacing.x = unit(0.5, 'cm'), # Adjust horizontal spacing between legend items
legend.spacing.y = unit(0.7, 'cm')
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 10), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
legend.spacing.x = unit(0.5, 'cm'), # Adjust horizontal spacing between legend items
legend.spacing.y = unit(1.0, 'cm')
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 10), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
legend.spacing.x = unit(0.5, 'cm'), # Adjust horizontal spacing between legend items
legend.spacing.y = unit(1.0, 'cm')
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 10), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Scatterplot of License density vs Crime density',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 8), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Relationship between Alcohol License Density and Crime Rates',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 8), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Relationship between Alcohol License Density and Crime Rates',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 8), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
)
# Save the plot as an image file
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
library(ggplot2)
ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Relationship between Alcohol License Density and Crime Rates',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "bottom", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 8), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
)
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Relationship between Alcohol License Density and Crime Rates',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "right", # Set legend position
legend.title = element_text(size = 12), # Adjust legend title size
legend.text = element_text(size = 8), # Adjust legend text size
legend.key.size = unit(1.5, "lines"), # Adjust legend key size
)
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
setwd("D:/STUDY/UCSD/SP24/POLI170A/poli170a_proj")
knitr::opts_chunk$set(echo = TRUE)
library(readr)
# merged_df <- read_csv("/Users/kellygong/Downloads/merged_df.csv")
merged_df <- read_csv("merged_df.csv")
library(stats)
# Fit the linear model with log-transformed variables
full_model <- lm(crime_density ~ alcohol_density + density, data=merged_df)
# Print the summary of the model
summary(full_model)
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, color = "black") +  # Add regression line
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Relationship between Alcohol License Density and Crime Rates',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "right",
legend.title = element_text(size = 12),
legend.text = element_text(size = 8),
legend.key.size = unit(1.5, "lines")
)
print(p)
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, color = "red") +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Relationship between Alcohol License Density and Crime Rates',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "right",
legend.title = element_text(size = 12),
legend.text = element_text(size = 8),
legend.key.size = unit(1.5, "lines")
)
print(p)
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
geom_smooth(method = "lm", se = TRUE, color = "red") +
labs(
x = 'License density per capita',
y = 'Crime density per capita',
title = 'Relationship between Alcohol License Density and Crime Rates',
color = 'Pop. Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "right",
legend.title = element_text(size = 12),
legend.text = element_text(size = 8),
legend.key.size = unit(1.5, "lines")
)
print(p)
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
geom_smooth(method = "lm", se = TRUE, color = "red") +
labs(
x = 'Alcohol License per capita',
y = 'Crime Incidents per capita',
title = 'Relationship Between Alcohol Licenses and Crime Rates per Capita',
color = 'Population Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "right",
legend.title = element_text(size = 12),
legend.text = element_text(size = 8),
legend.key.size = unit(1.5, "lines")
)
print(p)
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
# merged_df <- read_csv("/Users/kellygong/Downloads/merged_df.csv")
merged_df <- read_csv("merged_df.csv")
library(stats)
# Fit the linear model with log-transformed variables
full_model <- lm(crime_density ~ alcohol_density + density, data=merged_df)
# Print the summary of the model
summary(full_model)
stargazer(full_model,
type = "latex",
title = "Results",
align = TRUE,
covariate.labels = c("Alcohol Density", "Population Density"),
dep.var.labels = "Crime Density",
dep.var.caption = "Dependent Variable")
install.packages("stargazer")
library(stargazer)
stargazer(full_model,
type = "latex",
title = "Results",
align = TRUE,
covariate.labels = c("Alcohol Density", "Population Density"),
dep.var.labels = "Crime Density",
dep.var.caption = "Dependent Variable")
library(ggplot2)
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
geom_smooth(method = "lm", se = TRUE, color = "red") +
labs(
x = 'Alcohol License per capita',
y = 'Crime Incidents per capita',
title = 'Relationship Between Alcohol Licenses and Crime Rates per Capita',
color = 'Population Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "right",
legend.title = element_text(size = 12),
legend.text = element_text(size = 8),
legend.key.size = unit(1.5, "lines")
)
print(p)
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(stats)
library(stargazer)
library(ggplot2)
# merged_df <- read_csv("/Users/kellygong/Downloads/merged_df.csv")
merged_df <- read_csv("merged_df.csv")
# Fit the linear model with log-transformed variables
full_model <- lm(crime_density ~ alcohol_density + density, data=merged_df)
# Print the summary of the model
summary(full_model)
stargazer(full_model,
type = "latex",
title = "Results",
align = TRUE,
covariate.labels = c("Alcohol Density", "Population Density"),
dep.var.labels = "Crime Density",
dep.var.caption = "Dependent Variable")
p <- ggplot(merged_df, aes(x = alcohol_density, y = crime_density, color = density)) +
geom_point() +
geom_smooth(method = "lm", se = TRUE, color = "red") +
labs(
x = 'Alcohol License per capita',
y = 'Crime Incidents per capita',
title = 'Relationship Between Alcohol Licenses and Crime Rates per Capita',
color = 'Population Density'
) +
scale_color_gradient(low = "lightblue", high = "darkblue") +
theme_minimal() +
theme(
legend.position = "right",
legend.title = element_text(size = 12),
legend.text = element_text(size = 8),
legend.key.size = unit(1.5, "lines")
)
print(p)
ggsave("scatterplot_license_vs_crime_density.png", plot = p, dpi = 300)
setwd("D:/STUDY/UCSD/SP24/POLI170A/poli170a_proj")
